{"ast":null,"code":"var _jsxFileName = \"/Users/work/Documents/FinalProject/soup/src/Component/ResetPasswordEmailPage/ResetPasswordEmailPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport Alert from \"@mui/material/Alert\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useNavigate } from \"react-router-dom\";\nimport AlertDialog from \"../AlertDialog/AlertDialog\";\nimport { askResetPassword } from \"../../api/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ResetPasswordEmailPage = () => {\n  _s();\n\n  const theme = useTheme();\n  const primaryColor = theme.palette.primary.main;\n  const gray1 = theme.palette.gray1.main;\n  const gray2 = theme.palette.gray2.main;\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [formAlert, setFormAlert] = useState(null);\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertMsg, setAlertMsg] = useState(\"\");\n  const [alertType, setAlertType] = useState(\"\");\n\n  const validateForm = () => {\n    if (!email) return \"Please enter your email address\";\n    return null;\n  };\n\n  const closeAlert = () => {\n    setOpenAlert(false);\n  };\n\n  const sendEmail = () => {\n    const errorMsg = validateForm();\n\n    if (errorMsg) {\n      setFormAlert( /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 20\n      }, this));\n      return;\n    }\n\n    askResetPassword(email).then(() => {\n      setAlertMsg(\"Email has sent, please check your email\");\n      setAlertType(\"success\");\n      setOpenAlert(true);\n    }).catch(err => {\n      var _err$response;\n\n      const errorMsg = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data;\n\n      if (errorMsg === \"Email not registered\") {\n        setAlertMsg(errorMsg);\n        setAlertType(\"error\");\n        setOpenAlert(true);\n        return;\n      }\n\n      setFormAlert( /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 22\n      }, this));\n    });\n  };\n\n  useEffect(() => {\n    setFormAlert(null);\n  }, [email]);\n  const buttonStyle = {\n    width: \"140px\",\n    borderRadius: \"8px\",\n    color: primaryColor,\n    textTransform: \"none\"\n  };\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    component: \"form\",\n    spacing: 5,\n    sx: {\n      width: \"616px\",\n      margin: \"0 auto\",\n      marginTop: \"96px\",\n      textAlign: \"left\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      spacing: \"60px\",\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h1\",\n          sx: {\n            color: gray1\n          },\n          children: \"Reset Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          paragraph: true,\n          sx: {\n            color: gray2\n          },\n          children: \"Send OTP code to your email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 3,\n        children: [formAlert, /*#__PURE__*/_jsxDEV(TextField, {\n          required: true,\n          type: \"email\",\n          label: \"Email\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      spacing: 3,\n      sx: {\n        alignSelf: \"flex-end\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        sx: buttonStyle,\n        onClick: () => navigate(\"/login\"),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        sx: buttonStyle,\n        onClick: sendEmail,\n        children: \"Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlertDialog, {\n      open: openAlert,\n      handleClose: closeAlert,\n      severity: alertType,\n      message: alertMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ResetPasswordEmailPage, \"9oHJAdVgFDEW+sGr4lzsqC4OShA=\", false, function () {\n  return [useTheme, useNavigate];\n});\n\n_c = ResetPasswordEmailPage;\nexport default ResetPasswordEmailPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResetPasswordEmailPage\");","map":{"version":3,"names":["React","useState","useEffect","Button","Stack","TextField","Typography","Alert","useTheme","useNavigate","AlertDialog","askResetPassword","ResetPasswordEmailPage","theme","primaryColor","palette","primary","main","gray1","gray2","navigate","email","setEmail","formAlert","setFormAlert","openAlert","setOpenAlert","alertMsg","setAlertMsg","alertType","setAlertType","validateForm","closeAlert","sendEmail","errorMsg","then","catch","err","response","data","buttonStyle","width","borderRadius","color","textTransform","margin","marginTop","textAlign","e","target","value","alignSelf"],"sources":["/Users/work/Documents/FinalProject/soup/src/Component/ResetPasswordEmailPage/ResetPasswordEmailPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport Alert from \"@mui/material/Alert\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport AlertDialog from \"../AlertDialog/AlertDialog\";\n\nimport { askResetPassword } from \"../../api/auth\";\n\nconst ResetPasswordEmailPage = () => {\n  const theme = useTheme();\n  const primaryColor = theme.palette.primary.main;\n  const gray1 = theme.palette.gray1.main;\n  const gray2 = theme.palette.gray2.main;\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [formAlert, setFormAlert] = useState(null);\n  const [openAlert, setOpenAlert] = useState(false);\n  const [alertMsg, setAlertMsg] = useState(\"\");\n  const [alertType, setAlertType] = useState(\"\");\n\n  const validateForm = () => {\n    if (!email) return \"Please enter your email address\";\n\n    return null;\n  };\n\n  const closeAlert = () => {\n    setOpenAlert(false);\n  };\n\n  const sendEmail = () => {\n    const errorMsg = validateForm();\n    if (errorMsg) {\n      setFormAlert(<Alert severity=\"error\">{errorMsg}</Alert>);\n      return;\n    }\n\n    askResetPassword(email)\n      .then(() => {\n        setAlertMsg(\"Email has sent, please check your email\");\n        setAlertType(\"success\");\n        setOpenAlert(true);\n      })\n      .catch((err) => {\n        const errorMsg = err?.response?.data;\n\n        if (errorMsg === \"Email not registered\") {\n          setAlertMsg(errorMsg);\n          setAlertType(\"error\");\n          setOpenAlert(true);\n          return;\n        }\n\n        setFormAlert(<Alert severity=\"error\">{errorMsg}</Alert>);\n      });\n  };\n\n  useEffect(() => {\n    setFormAlert(null);\n  }, [email]);\n\n  const buttonStyle = {\n    width: \"140px\",\n    borderRadius: \"8px\",\n    color: primaryColor,\n    textTransform: \"none\",\n  };\n\n  return (\n    <Stack\n      component=\"form\"\n      spacing={5}\n      sx={{\n        width: \"616px\",\n        margin: \"0 auto\",\n        marginTop: \"96px\",\n        textAlign: \"left\",\n      }}\n    >\n      <Stack spacing=\"60px\">\n        <Stack spacing={2}>\n          <Typography variant=\"h5\" component=\"h1\" sx={{ color: gray1 }}>\n            Reset Password\n          </Typography>\n          <Typography paragraph={true} sx={{ color: gray2 }}>\n            Send OTP code to your email address\n          </Typography>\n        </Stack>\n        <Stack spacing={3}>\n          {formAlert}\n          <TextField\n            required\n            type=\"email\"\n            label=\"Email\"\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Stack>\n      </Stack>\n      <Stack direction=\"row\" spacing={3} sx={{ alignSelf: \"flex-end\" }}>\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          sx={buttonStyle}\n          onClick={() => navigate(\"/login\")}\n        >\n          Cancel\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          sx={buttonStyle}\n          onClick={sendEmail}\n        >\n          Confirm\n        </Button>\n      </Stack>\n\n      <AlertDialog\n        open={openAlert}\n        handleClose={closeAlert}\n        severity={alertType}\n        message={alertMsg}\n      />\n    </Stack>\n  );\n};\n\nexport default ResetPasswordEmailPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}