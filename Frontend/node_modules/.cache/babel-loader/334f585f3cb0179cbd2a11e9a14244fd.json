{"ast":null,"code":"import axios from 'axios';\nimport { getBearerToken } from './auth';\nconst CART_KEY = \"cart\";\nconst paymentAxios = axios.create({\n  baseURL: `${process.env.REACT_APP_API_BASE_URL}/payment/`\n});\n\nfunction setAuthHeader() {\n  paymentAxios.defaults.headers.common[\"Authorization\"] = getBearerToken();\n}\n\nfunction payItems(fk_payment_method_id, items) {\n  setAuthHeader();\n  return paymentAxios.post(\"/pay\", {\n    fk_payment_method_id,\n    items\n  });\n}\n\nfunction getCartItems() {\n  const cartJson = localStorage.getItem(CART_KEY);\n\n  if (!cartJson) {\n    localStorage.setItem(CART_KEY, JSON.stringify([]));\n    return [];\n  }\n\n  return JSON.parse(cartJson);\n}\n\nfunction addCartItem(courseId, dateString) {\n  const cartItems = getCartItems();\n  const itemExist = cartItems.some(item => item.id === courseId && item.date === dateString);\n  if (itemExist) throw \"Course with the same schedule already exist in cart. Please select another schedule\";\n  const cartItem = {\n    id: courseId,\n    date: dateString\n  };\n  cartItems.push(cartItem);\n  const cartJson = JSON.stringify(cartItems);\n  localStorage.setItem(CART_KEY, cartJson);\n}\n\nexport { payItems, addCartItem, getCartItems, CART_KEY };","map":{"version":3,"names":["axios","getBearerToken","CART_KEY","paymentAxios","create","baseURL","process","env","REACT_APP_API_BASE_URL","setAuthHeader","defaults","headers","common","payItems","fk_payment_method_id","items","post","getCartItems","cartJson","localStorage","getItem","setItem","JSON","stringify","parse","addCartItem","courseId","dateString","cartItems","itemExist","some","item","id","date","cartItem","push"],"sources":["/Users/work/Documents/FinalProject/soup/src/api/payment.js"],"sourcesContent":["import axios from 'axios'\n\nimport { getBearerToken } from './auth';\n\nconst CART_KEY = \"cart\";\n\nconst paymentAxios = axios.create({\n  baseURL: `${process.env.REACT_APP_API_BASE_URL}/payment/`\n})\n\nfunction setAuthHeader() {\n  paymentAxios.defaults.headers.common[\"Authorization\"] = getBearerToken();\n}\n\nfunction payItems(fk_payment_method_id, items) {\n  setAuthHeader()\n  return paymentAxios.post(\"/pay\", {fk_payment_method_id, items})\n}\n\nfunction getCartItems() {\n  const cartJson = localStorage.getItem(CART_KEY);\n\n  if (!cartJson) {\n    localStorage.setItem(CART_KEY, JSON.stringify([]));\n    return [];\n  }\n\n  return JSON.parse(cartJson);\n}\n\nfunction addCartItem(courseId, dateString) {\n  const cartItems = getCartItems();\n  const itemExist = cartItems.some(\n    (item) => item.id === courseId && item.date === dateString\n  );\n\n  if (itemExist)\n    throw \"Course with the same schedule already exist in cart. Please select another schedule\";\n\n  const cartItem = {\n    id: courseId,\n    date: dateString,\n  };\n  cartItems.push(cartItem);\n\n  const cartJson = JSON.stringify(cartItems);\n  localStorage.setItem(CART_KEY, cartJson);\n}\n\nexport { payItems, addCartItem, getCartItems, CART_KEY};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,cAAT,QAA+B,QAA/B;AAEA,MAAMC,QAAQ,GAAG,MAAjB;AAEA,MAAMC,YAAY,GAAGH,KAAK,CAACI,MAAN,CAAa;EAChCC,OAAO,EAAG,GAAEC,OAAO,CAACC,GAAR,CAAYC,sBAAuB;AADf,CAAb,CAArB;;AAIA,SAASC,aAAT,GAAyB;EACvBN,YAAY,CAACO,QAAb,CAAsBC,OAAtB,CAA8BC,MAA9B,CAAqC,eAArC,IAAwDX,cAAc,EAAtE;AACD;;AAED,SAASY,QAAT,CAAkBC,oBAAlB,EAAwCC,KAAxC,EAA+C;EAC7CN,aAAa;EACb,OAAON,YAAY,CAACa,IAAb,CAAkB,MAAlB,EAA0B;IAACF,oBAAD;IAAuBC;EAAvB,CAA1B,CAAP;AACD;;AAED,SAASE,YAAT,GAAwB;EACtB,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqBlB,QAArB,CAAjB;;EAEA,IAAI,CAACgB,QAAL,EAAe;IACbC,YAAY,CAACE,OAAb,CAAqBnB,QAArB,EAA+BoB,IAAI,CAACC,SAAL,CAAe,EAAf,CAA/B;IACA,OAAO,EAAP;EACD;;EAED,OAAOD,IAAI,CAACE,KAAL,CAAWN,QAAX,CAAP;AACD;;AAED,SAASO,WAAT,CAAqBC,QAArB,EAA+BC,UAA/B,EAA2C;EACzC,MAAMC,SAAS,GAAGX,YAAY,EAA9B;EACA,MAAMY,SAAS,GAAGD,SAAS,CAACE,IAAV,CACfC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYN,QAAZ,IAAwBK,IAAI,CAACE,IAAL,KAAcN,UADhC,CAAlB;EAIA,IAAIE,SAAJ,EACE,MAAM,qFAAN;EAEF,MAAMK,QAAQ,GAAG;IACfF,EAAE,EAAEN,QADW;IAEfO,IAAI,EAAEN;EAFS,CAAjB;EAIAC,SAAS,CAACO,IAAV,CAAeD,QAAf;EAEA,MAAMhB,QAAQ,GAAGI,IAAI,CAACC,SAAL,CAAeK,SAAf,CAAjB;EACAT,YAAY,CAACE,OAAb,CAAqBnB,QAArB,EAA+BgB,QAA/B;AACD;;AAED,SAASL,QAAT,EAAmBY,WAAnB,EAAgCR,YAAhC,EAA8Cf,QAA9C"},"metadata":{},"sourceType":"module"}