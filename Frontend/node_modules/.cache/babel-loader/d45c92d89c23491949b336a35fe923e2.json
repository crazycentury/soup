{"ast":null,"code":"var _jsxFileName = \"/Users/work/Documents/FinalProject/soup/src/Component/ResetPasswordNewPass/NewPass.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from 'react';\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { newPassword } from '../../api/auth';\nimport { Alert, AlertTitle } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewPass = () => {\n  _s();\n\n  const theme = useTheme();\n  const {\n    token\n  } = useParams();\n  const [password, setPassword] = useState(\"\");\n  const [password2, setPassword2] = useState(\"\");\n  const [alertMsg, setAlertMsg] = useState(null);\n  const primaryColor = theme.palette.primary.main;\n  const gray1 = theme.palette.gray1.main;\n  const gray2 = theme.palette.gray2.main;\n  const navigate = useNavigate();\n\n  const AlertErorrMessage = props => {\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      severity: props.theme,\n      children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n        children: props.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), props.pesan, \" \\u2014 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"check it out!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, this);\n  };\n\n  const isValidAlphanumeric = function () {\n    let text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    if (!text) return false; // empty validation\n\n    let regex = new RegExp(\"^[a-z0-9]+$\");\n    return regex.test(text) ? false : true;\n  };\n\n  const handlePasswordChange = value => {\n    setPassword(value);\n  };\n\n  const handleConfirmPassword = value => {\n    setPassword2(value);\n  };\n\n  const buttonStyle = {\n    width: \"140px\",\n    borderRadius: \"8px\",\n    color: primaryColor,\n    textTransform: \"none\"\n  };\n\n  const validateInput = () => {\n    if (!isValidAlphanumeric(password) || password.length < 8) {\n      var message = \"Password must be more than 8 combinations of uppercase, lowercase and numbers\";\n      return message;\n    }\n\n    if (password !== password2) {\n      return \"Password do not match\";\n    }\n\n    return \"\";\n  };\n\n  const handleSubmit = () => {\n    const errorInput = validateInput();\n\n    if (errorInput) {\n      setAlertMsg( /*#__PURE__*/_jsxDEV(AlertErorrMessage, {\n        pesan: errorInput,\n        theme: \"error\",\n        title: \"ERROR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this));\n      return;\n    }\n\n    newPassword(token, password).then(() => {\n      navigate('/login');\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(token, password);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    spacing: 5,\n    sx: {\n      width: \"616px\",\n      margin: \"0 auto\",\n      marginTop: \"96px\",\n      textAlign: \"left\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Stack, {\n      spacing: \"60px\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h1\",\n        sx: {\n          color: gray1\n        },\n        children: \"Create Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: \"24px\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          type: \"password\",\n          label: \"New Password\",\n          onChange: e => handlePasswordChange(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          type: \"password\",\n          label: \"Confirm New Password\",\n          onChange: e => handleConfirmPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      direction: \"row\",\n      spacing: 3,\n      sx: {\n        alignSelf: \"flex-end\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        sx: buttonStyle,\n        onClick: () => navigate('/login'),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        sx: buttonStyle,\n        onClick: handleSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 7\n  }, this);\n};\n\n_s(NewPass, \"0aQM1SIwud0/tY4AF+TNoUrBLZU=\", false, function () {\n  return [useTheme, useParams, useNavigate];\n});\n\n_c = NewPass;\nexport default NewPass;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewPass\");","map":{"version":3,"names":["React","useEffect","useState","Button","Stack","TextField","Typography","useTheme","useNavigate","useParams","newPassword","Alert","AlertTitle","NewPass","theme","token","password","setPassword","password2","setPassword2","alertMsg","setAlertMsg","primaryColor","palette","primary","main","gray1","gray2","navigate","AlertErorrMessage","props","title","pesan","isValidAlphanumeric","text","regex","RegExp","test","handlePasswordChange","value","handleConfirmPassword","buttonStyle","width","borderRadius","color","textTransform","validateInput","length","message","handleSubmit","errorInput","then","catch","err","console","log","margin","marginTop","textAlign","e","target","alignSelf"],"sources":["/Users/work/Documents/FinalProject/soup/src/Component/ResetPasswordNewPass/NewPass.js"],"sourcesContent":["import {React, useEffect, useState} from 'react';\nimport Button from \"@mui/material/Button\";\nimport Stack from \"@mui/material/Stack\";\nimport TextField from \"@mui/material/TextField\";\nimport Typography from \"@mui/material/Typography\";\nimport { useTheme } from \"@mui/material/styles\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { newPassword } from '../../api/auth';\nimport { Alert, AlertTitle } from '@mui/material';\n\nconst NewPass = () => {\n    const theme = useTheme();\n    const {token} = useParams()\n    const [password, setPassword] = useState(\"\");\n    const [password2, setPassword2] = useState(\"\");\n    const [alertMsg, setAlertMsg] = useState(null);\n    const primaryColor = theme.palette.primary.main;\n    const gray1 = theme.palette.gray1.main;\n    const gray2 = theme.palette.gray2.main;\n    const navigate = useNavigate();\n\n    const AlertErorrMessage = (props)=>{\n      return(\n        <Alert severity={props.theme}>\n        <AlertTitle>{props.title}</AlertTitle>\n        {props.pesan} â€” <strong>check it out!</strong>\n      </Alert>\n      );\n    };\n\n    const isValidAlphanumeric = (text = \"\") => {\n      if (!text) return false; // empty validation\n\n      let regex = new RegExp(\"^[a-z0-9]+$\");\n      return regex.test(text) ? false : true;\n    };\n\n    const handlePasswordChange = (value) => {\n      setPassword(value);\n    };\n\n    const handleConfirmPassword = (value) => {\n      setPassword2(value);\n    };\n  \n    const buttonStyle = {\n      width: \"140px\",\n      borderRadius: \"8px\",\n      color: primaryColor,\n      textTransform: \"none\",\n    };\n\n    const validateInput = () => {\n      if (!isValidAlphanumeric(password) || password.length < 8) {\n          var message = \"Password must be more than 8 combinations of uppercase, lowercase and numbers\";\n          return message;\n      }\n      if (password !== password2){\n        return \"Password do not match\";\n      }\n      return \"\";\n    };\n\n    const handleSubmit = () => {\n\n      const errorInput = validateInput();\n      if (errorInput) {\n        setAlertMsg(<AlertErorrMessage pesan={errorInput} theme=\"error\" title=\"ERROR\"/>)\n        return;\n      }\n\n      newPassword(token, password)\n      .then(()=> {\n          navigate('/login')\n      })\n      .catch((err) => {\n          console.log(err);\n      })\n\n      console.log(token,password);\n    };\n\n\n    \n  \n    return (\n      <Stack\n        spacing={5}\n        sx={{\n          width: \"616px\",\n          margin: \"0 auto\",\n          marginTop: \"96px\",\n          textAlign: \"left\",\n        }}\n      >\n        <Stack spacing=\"60px\">\n            <Typography variant=\"h5\" component=\"h1\" sx={{ color: gray1 }}>\n              Create Password\n            </Typography>\n          <Stack spacing='24px'>\n            <TextField type=\"password\" label=\"New Password\" onChange={(e) => handlePasswordChange(e.target.value)}/>\n            <TextField type=\"password\" label=\"Confirm New Password\"onChange={(e) => handleConfirmPassword(e.target.value)}/>\n          </Stack>\n          \n        </Stack>\n        <Stack direction=\"row\" spacing={3} sx={{ alignSelf: \"flex-end\" }}>\n          <Button \n          variant=\"outlined\" color=\"primary\" sx={buttonStyle}\n          onClick={() => navigate('/login')}>\n            Cancel\n          </Button>\n          <Button\n          variant=\"contained\" color=\"secondary\" sx={buttonStyle}\n          onClick={handleSubmit}>\n            Submit\n          </Button>\n        </Stack>\n      </Stack>\n    );\n  };\n\nexport default NewPass;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}