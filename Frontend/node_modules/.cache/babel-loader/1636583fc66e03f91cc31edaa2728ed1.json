{"ast":null,"code":"import axios from'axios';import{getBearerToken}from'./auth';var CART_KEY=\"cart\";var paymentAxios=axios.create({baseURL:\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/payment/\")});function setAuthHeader(){paymentAxios.defaults.headers.common[\"Authorization\"]=getBearerToken();}function payItems(fk_payment_method_id,items){setAuthHeader();return paymentAxios.post(\"/pay\",{fk_payment_method_id:fk_payment_method_id,items:items});}function getCartItems(){var cartJson=localStorage.getItem(CART_KEY);if(!cartJson){localStorage.setItem(CART_KEY,JSON.stringify([]));return[];}return JSON.parse(cartJson);}function addCartItem(courseId,dateString){var cartItems=getCartItems();var itemExist=cartItems.some(function(item){return item.id===courseId&&item.date===dateString;});if(itemExist)throw\"Course with the same schedule already exist in cart. Please select another schedule\";var cartItem={id:courseId,date:dateString};cartItems.push(cartItem);var cartJson=JSON.stringify(cartItems);localStorage.setItem(CART_KEY,cartJson);}export{payItems,addCartItem,getCartItems,CART_KEY};","map":{"version":3,"names":["axios","getBearerToken","CART_KEY","paymentAxios","create","baseURL","process","env","REACT_APP_API_BASE_URL","setAuthHeader","defaults","headers","common","payItems","fk_payment_method_id","items","post","getCartItems","cartJson","localStorage","getItem","setItem","JSON","stringify","parse","addCartItem","courseId","dateString","cartItems","itemExist","some","item","id","date","cartItem","push"],"sources":["/Users/work/Documents/FinalProject/soup/src/api/payment.js"],"sourcesContent":["import axios from 'axios'\n\nimport { getBearerToken } from './auth';\n\nconst CART_KEY = \"cart\";\n\nconst paymentAxios = axios.create({\n  baseURL: `${process.env.REACT_APP_API_BASE_URL}/payment/`\n})\n\nfunction setAuthHeader() {\n  paymentAxios.defaults.headers.common[\"Authorization\"] = getBearerToken();\n}\n\nfunction payItems(fk_payment_method_id, items) {\n  setAuthHeader()\n  return paymentAxios.post(\"/pay\", {fk_payment_method_id, items})\n}\n\nfunction getCartItems() {\n  const cartJson = localStorage.getItem(CART_KEY);\n\n  if (!cartJson) {\n    localStorage.setItem(CART_KEY, JSON.stringify([]));\n    return [];\n  }\n\n  return JSON.parse(cartJson);\n}\n\nfunction addCartItem(courseId, dateString) {\n  const cartItems = getCartItems();\n  const itemExist = cartItems.some(\n    (item) => item.id === courseId && item.date === dateString\n  );\n\n  if (itemExist)\n    throw \"Course with the same schedule already exist in cart. Please select another schedule\";\n\n  const cartItem = {\n    id: courseId,\n    date: dateString,\n  };\n  cartItems.push(cartItem);\n\n  const cartJson = JSON.stringify(cartItems);\n  localStorage.setItem(CART_KEY, cartJson);\n}\n\nexport { payItems, addCartItem, getCartItems, CART_KEY};\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,OAASC,cAAT,KAA+B,QAA/B,CAEA,GAAMC,SAAQ,CAAG,MAAjB,CAEA,GAAMC,aAAY,CAAGH,KAAK,CAACI,MAAN,CAAa,CAChCC,OAAO,WAAKC,OAAO,CAACC,GAAR,CAAYC,sBAAjB,aADyB,CAAb,CAArB,CAIA,QAASC,cAAT,EAAyB,CACvBN,YAAY,CAACO,QAAb,CAAsBC,OAAtB,CAA8BC,MAA9B,CAAqC,eAArC,EAAwDX,cAAc,EAAtE,CACD,CAED,QAASY,SAAT,CAAkBC,oBAAlB,CAAwCC,KAAxC,CAA+C,CAC7CN,aAAa,GACb,MAAON,aAAY,CAACa,IAAb,CAAkB,MAAlB,CAA0B,CAACF,oBAAoB,CAApBA,oBAAD,CAAuBC,KAAK,CAALA,KAAvB,CAA1B,CAAP,CACD,CAED,QAASE,aAAT,EAAwB,CACtB,GAAMC,SAAQ,CAAGC,YAAY,CAACC,OAAb,CAAqBlB,QAArB,CAAjB,CAEA,GAAI,CAACgB,QAAL,CAAe,CACbC,YAAY,CAACE,OAAb,CAAqBnB,QAArB,CAA+BoB,IAAI,CAACC,SAAL,CAAe,EAAf,CAA/B,EACA,MAAO,EAAP,CACD,CAED,MAAOD,KAAI,CAACE,KAAL,CAAWN,QAAX,CAAP,CACD,CAED,QAASO,YAAT,CAAqBC,QAArB,CAA+BC,UAA/B,CAA2C,CACzC,GAAMC,UAAS,CAAGX,YAAY,EAA9B,CACA,GAAMY,UAAS,CAAGD,SAAS,CAACE,IAAV,CAChB,SAACC,IAAD,QAAUA,KAAI,CAACC,EAAL,GAAYN,QAAZ,EAAwBK,IAAI,CAACE,IAAL,GAAcN,UAAhD,EADgB,CAAlB,CAIA,GAAIE,SAAJ,CACE,KAAM,qFAAN,CAEF,GAAMK,SAAQ,CAAG,CACfF,EAAE,CAAEN,QADW,CAEfO,IAAI,CAAEN,UAFS,CAAjB,CAIAC,SAAS,CAACO,IAAV,CAAeD,QAAf,EAEA,GAAMhB,SAAQ,CAAGI,IAAI,CAACC,SAAL,CAAeK,SAAf,CAAjB,CACAT,YAAY,CAACE,OAAb,CAAqBnB,QAArB,CAA+BgB,QAA/B,EACD,CAED,OAASL,QAAT,CAAmBY,WAAnB,CAAgCR,YAAhC,CAA8Cf,QAA9C"},"metadata":{},"sourceType":"module"}