{"ast":null,"code":"var _jsxFileName = \"/Users/work/Documents/FinalProject/soup/src/Component/InvoicePage/InvoicePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport { useNavigate } from \"react-router-dom\";\nimport AlertDialog from \"../AlertDialog/AlertDialog\";\nimport BaseAdminView from \"../BaseAdminView/BaseAdminView\";\nimport DataTable from \"../DataTable/DataTable\";\nimport { getUserInvoices } from \"../../api/invoice\";\nimport useAuth from \"../../hook/useAuth\";\nimport { getDateString } from \"../../helper/date\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst tableHeaders = [\"No\", \"No. Invoice\", \"Date\", \"Total Course\", \"Total Price\", \"Action\"];\n\nconst InvoicePage = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [invoices, setInvoices] = useState([]);\n  const [alertData, setAlertData] = useState({\n    open: false,\n    severity: \"\",\n    message: \"\"\n  });\n\n  const closeAlert = () => {\n    setAlertData({\n      open: false,\n      severity: \"\",\n      message: \"\"\n    });\n  };\n\n  useEffect(() => {\n    if (!user) return;\n    setLoading(true);\n    getUserInvoices().then(res => {\n      setInvoices(res.data);\n    }).catch(err => {\n      var _err$response;\n\n      const errMsg = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data;\n      setAlertData({\n        open: true,\n        severity: \"error\",\n        message: errMsg\n      });\n    }).finally(() => setLoading(false));\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(BaseAdminView, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 18\n    }, this) : null, /*#__PURE__*/_jsxDEV(DataTable, {\n      headers: tableHeaders,\n      rows: invoices.map((invoice, index) => [index + 1, invoice.no_invoice, getDateString(invoice.date), invoice.total_course, `IDR ${invoice.total_price.toLocaleString(\"id\")}`, /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: () => navigate(`/detailinvoice/${invoice.invoice_id}`),\n        sx: {\n          width: \"100%\"\n        },\n        children: \"Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AlertDialog, {\n      open: alertData.open,\n      severity: alertData.severity,\n      message: alertData.message,\n      handleClose: closeAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(InvoicePage, \"XmGxRaHmZ12EShGXqi9qjxIpAQ0=\", false, function () {\n  return [useNavigate, useAuth];\n});\n\n_c = InvoicePage;\nexport default InvoicePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"InvoicePage\");","map":{"version":3,"names":["React","useEffect","useState","Button","LinearProgress","useNavigate","AlertDialog","BaseAdminView","DataTable","getUserInvoices","useAuth","getDateString","tableHeaders","InvoicePage","navigate","user","loading","setLoading","invoices","setInvoices","alertData","setAlertData","open","severity","message","closeAlert","then","res","data","catch","err","errMsg","response","finally","map","invoice","index","no_invoice","date","total_course","total_price","toLocaleString","invoice_id","width"],"sources":["/Users/work/Documents/FinalProject/soup/src/Component/InvoicePage/InvoicePage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport Button from \"@mui/material/Button\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport AlertDialog from \"../AlertDialog/AlertDialog\";\nimport BaseAdminView from \"../BaseAdminView/BaseAdminView\";\nimport DataTable from \"../DataTable/DataTable\";\n\nimport { getUserInvoices } from \"../../api/invoice\";\nimport useAuth from \"../../hook/useAuth\";\n\nimport { getDateString } from \"../../helper/date\";\n\nconst tableHeaders = [\n  \"No\",\n  \"No. Invoice\",\n  \"Date\",\n  \"Total Course\",\n  \"Total Price\",\n  \"Action\",\n];\n\nconst InvoicePage = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n\n  const [loading, setLoading] = useState(true);\n  const [invoices, setInvoices] = useState([]);\n  const [alertData, setAlertData] = useState({\n    open: false,\n    severity: \"\",\n    message: \"\",\n  });\n\n  const closeAlert = () => {\n    setAlertData({ open: false, severity: \"\", message: \"\" });\n  };\n\n  useEffect(() => {\n    if (!user) return;\n\n    setLoading(true);\n    getUserInvoices()\n      .then((res) => {\n        setInvoices(res.data);\n      })\n      .catch((err) => {\n        const errMsg = err?.response?.data;\n        setAlertData({ open: true, severity: \"error\", message: errMsg });\n      })\n      .finally(() => setLoading(false));\n  }, [user]);\n\n  return (\n    <BaseAdminView>\n      {loading ? <LinearProgress /> : null}\n      <DataTable\n        headers={tableHeaders}\n        rows={invoices.map((invoice, index) => [\n          index + 1,\n          invoice.no_invoice,\n          getDateString(invoice.date),\n          invoice.total_course,\n          `IDR ${invoice.total_price.toLocaleString(\"id\")}`,\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => navigate(`/detailinvoice/${invoice.invoice_id}`)}\n            sx={{ width: \"100%\" }}\n          >\n            Details\n          </Button>,\n        ])}\n      />\n\n      <AlertDialog\n        open={alertData.open}\n        severity={alertData.severity}\n        message={alertData.message}\n        handleClose={closeAlert}\n      />\n    </BaseAdminView>\n  );\n};\n\nexport default InvoicePage;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AAEA,SAASC,eAAT,QAAgC,mBAAhC;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,SAASC,aAAT,QAA8B,mBAA9B;;AAEA,MAAMC,YAAY,GAAG,CACnB,IADmB,EAEnB,aAFmB,EAGnB,MAHmB,EAInB,cAJmB,EAKnB,aALmB,EAMnB,QANmB,CAArB;;AASA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EACxB,MAAMC,QAAQ,GAAGT,WAAW,EAA5B;EACA,MAAM;IAAEU;EAAF,IAAWL,OAAO,EAAxB;EAEA,MAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACkB,SAAD,EAAYC,YAAZ,IAA4BnB,QAAQ,CAAC;IACzCoB,IAAI,EAAE,KADmC;IAEzCC,QAAQ,EAAE,EAF+B;IAGzCC,OAAO,EAAE;EAHgC,CAAD,CAA1C;;EAMA,MAAMC,UAAU,GAAG,MAAM;IACvBJ,YAAY,CAAC;MAAEC,IAAI,EAAE,KAAR;MAAeC,QAAQ,EAAE,EAAzB;MAA6BC,OAAO,EAAE;IAAtC,CAAD,CAAZ;EACD,CAFD;;EAIAvB,SAAS,CAAC,MAAM;IACd,IAAI,CAACc,IAAL,EAAW;IAEXE,UAAU,CAAC,IAAD,CAAV;IACAR,eAAe,GACZiB,IADH,CACSC,GAAD,IAAS;MACbR,WAAW,CAACQ,GAAG,CAACC,IAAL,CAAX;IACD,CAHH,EAIGC,KAJH,CAIUC,GAAD,IAAS;MAAA;;MACd,MAAMC,MAAM,GAAGD,GAAH,aAAGA,GAAH,wCAAGA,GAAG,CAAEE,QAAR,kDAAG,cAAeJ,IAA9B;MACAP,YAAY,CAAC;QAAEC,IAAI,EAAE,IAAR;QAAcC,QAAQ,EAAE,OAAxB;QAAiCC,OAAO,EAAEO;MAA1C,CAAD,CAAZ;IACD,CAPH,EAQGE,OARH,CAQW,MAAMhB,UAAU,CAAC,KAAD,CAR3B;EASD,CAbQ,EAaN,CAACF,IAAD,CAbM,CAAT;EAeA,oBACE,QAAC,aAAD;IAAA,WACGC,OAAO,gBAAG,QAAC,cAAD;MAAA;MAAA;MAAA;IAAA,QAAH,GAAwB,IADlC,eAEE,QAAC,SAAD;MACE,OAAO,EAAEJ,YADX;MAEE,IAAI,EAAEM,QAAQ,CAACgB,GAAT,CAAa,CAACC,OAAD,EAAUC,KAAV,KAAoB,CACrCA,KAAK,GAAG,CAD6B,EAErCD,OAAO,CAACE,UAF6B,EAGrC1B,aAAa,CAACwB,OAAO,CAACG,IAAT,CAHwB,EAIrCH,OAAO,CAACI,YAJ6B,EAKpC,OAAMJ,OAAO,CAACK,WAAR,CAAoBC,cAApB,CAAmC,IAAnC,CAAyC,EALX,eAMrC,QAAC,MAAD;QACE,OAAO,EAAC,WADV;QAEE,KAAK,EAAC,WAFR;QAGE,OAAO,EAAE,MAAM3B,QAAQ,CAAE,kBAAiBqB,OAAO,CAACO,UAAW,EAAtC,CAHzB;QAIE,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAT,CAJN;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANqC,CAAjC;IAFR;MAAA;MAAA;MAAA;IAAA,QAFF,eAqBE,QAAC,WAAD;MACE,IAAI,EAAEvB,SAAS,CAACE,IADlB;MAEE,QAAQ,EAAEF,SAAS,CAACG,QAFtB;MAGE,OAAO,EAAEH,SAAS,CAACI,OAHrB;MAIE,WAAW,EAAEC;IAJf;MAAA;MAAA;MAAA;IAAA,QArBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA8BD,CA7DD;;GAAMZ,W;UACaR,W,EACAK,O;;;KAFbG,W;AA+DN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}