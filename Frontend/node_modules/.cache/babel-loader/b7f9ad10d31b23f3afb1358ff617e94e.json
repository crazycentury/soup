{"ast":null,"code":"import _objectSpread from\"/Users/work/Documents/FinalProject/soup/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/work/Documents/FinalProject/soup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Box from\"@mui/material/Box\";import Grid from\"@mui/material/Grid\";import LinearProgress from\"@mui/material/LinearProgress\";import Stack from\"@mui/material/Stack\";import Typography from\"@mui/material/Typography\";import BaseAdminView from\"../BaseAdminView/BaseAdminView\";import DataTable from\"../DataTable/DataTable\";import{useNavigate,useParams}from\"react-router-dom\";import useAuth from\"../../hook/useAuth\";import{Helmet}from\"react-helmet\";import{getDetailInvoice}from\"../../api/invoice\";import{getDateString,getDateStringWithWeekday}from\"../../helper/date\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var tableHeaders=[\"No\",\"Course Name\",\"Type\",\"Schedule\",\"Price\"];var DetailInvoicePage=function DetailInvoicePage(){var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var _useAuth=useAuth(),user=_useAuth.user,isValidatingToken=_useAuth.isValidatingToken;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),invoice=_useState2[0],setInvoice=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),courses=_useState4[0],setCourses=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){if(isValidatingToken)return;if(!user){navigate(\"/\");return;}getDetailInvoice(id).then(function(res){var data=res.data;setInvoice(data.invoice);setCourses(data.purchased_courses);}).catch(function(err){var res=err===null||err===void 0?void 0:err.response;if((res===null||res===void 0?void 0:res.status)===403){navigate(\"/\");}}).finally(function(){return setLoading(false);});},[user,isValidatingToken,id]);var textStyle={fontSize:\"1.125rem\",fontWeight:\"500\"};var boldTextStyle=_objectSpread(_objectSpread({},textStyle),{},{fontWeight:\"700\"});return/*#__PURE__*/_jsxs(BaseAdminView,{children:[loading?/*#__PURE__*/_jsx(LinearProgress,{}):null,/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"SOUP | Detail Invoice\"})}),/*#__PURE__*/_jsxs(Box,{sx:{width:\"calc(100% - 64px)\",m:\"32px auto\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h1\",sx:{color:\"gray2.main\",textAlign:\"left\",fontWeight:\"700\",mb:\"30px\"},children:\"Details Invoice\"}),/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-between\",spacing:4,mb:\"42px\",sx:{color:\"gray2.main\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:\"auto\",children:/*#__PURE__*/_jsxs(Box,{sx:{display:\"grid\",gridTemplateColumns:\"repeat(2, auto)\",gap:\"8px 24px\",textAlign:\"left\"},children:[/*#__PURE__*/_jsx(Typography,{sx:textStyle,children:\"No. Invoice :\"}),/*#__PURE__*/_jsx(Typography,{sx:textStyle,children:invoice.no_invoice}),/*#__PURE__*/_jsx(Typography,{sx:textStyle,children:\"Date :\"}),/*#__PURE__*/_jsx(Typography,{sx:textStyle,children:invoice.date&&getDateString(invoice.date)})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:\"auto\",alignSelf:\"flex-end\",children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:3,children:[/*#__PURE__*/_jsx(Typography,{sx:boldTextStyle,children:\"Total Price\"}),/*#__PURE__*/_jsx(Typography,{sx:boldTextStyle,children:invoice.total_price&&\"IDR \".concat(invoice.total_price.toLocaleString(\"id\"))})]})})]}),/*#__PURE__*/_jsx(DataTable,{headers:tableHeaders,rows:courses.map(function(course,index){return[index+1,course.name,course.category_name,getDateStringWithWeekday(course.schedule),\"IDR \".concat(course.price.toLocaleString(\"id\"))];}),maxWidth:\"100%\"})]})]});};export default DetailInvoicePage;","map":{"version":3,"names":["React","useEffect","useState","Box","Grid","LinearProgress","Stack","Typography","BaseAdminView","DataTable","useNavigate","useParams","useAuth","Helmet","getDetailInvoice","getDateString","getDateStringWithWeekday","tableHeaders","DetailInvoicePage","navigate","id","user","isValidatingToken","invoice","setInvoice","courses","setCourses","loading","setLoading","then","res","data","purchased_courses","catch","err","response","status","finally","textStyle","fontSize","fontWeight","boldTextStyle","width","m","color","textAlign","mb","display","gridTemplateColumns","gap","no_invoice","date","total_price","toLocaleString","map","course","index","name","category_name","schedule","price"],"sources":["/Users/work/Documents/FinalProject/soup/src/Component/DetailInvoicePage/DetailInvoicePage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport Stack from \"@mui/material/Stack\";\nimport Typography from \"@mui/material/Typography\";\n\nimport BaseAdminView from \"../BaseAdminView/BaseAdminView\";\nimport DataTable from \"../DataTable/DataTable\";\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport useAuth from \"../../hook/useAuth\";\n\nimport { Helmet } from \"react-helmet\";\nimport { getDetailInvoice } from \"../../api/invoice\";\nimport { getDateString, getDateStringWithWeekday } from \"../../helper/date\";\n\nconst tableHeaders = [\"No\", \"Course Name\", \"Type\", \"Schedule\", \"Price\"];\n\nconst DetailInvoicePage = () => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const { user, isValidatingToken } = useAuth();\n\n  const [invoice, setInvoice] = useState({});\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (isValidatingToken) return;\n    if (!user) {\n      navigate(\"/\");\n      return;\n    }\n\n    getDetailInvoice(id)\n      .then((res) => {\n        const data = res.data;\n        setInvoice(data.invoice);\n        setCourses(data.purchased_courses);\n      })\n      .catch((err) => {\n        const res = err?.response;\n\n        if (res?.status === 403) {\n          navigate(\"/\");\n        }\n      })\n      .finally(() => setLoading(false));\n  }, [user, isValidatingToken, id]);\n\n  const textStyle = {\n    fontSize: \"1.125rem\",\n    fontWeight: \"500\",\n  };\n\n  const boldTextStyle = {\n    ...textStyle,\n    fontWeight: \"700\",\n  };\n\n  return (\n    <BaseAdminView>\n      {loading ? <LinearProgress /> : null}\n      <Helmet>\n        <title>SOUP | Detail Invoice</title>\n      </Helmet>\n      <Box\n        sx={{\n          width: \"calc(100% - 64px)\",\n          m: \"32px auto\",\n        }}\n      >\n        <Typography\n          variant=\"h6\"\n          component=\"h1\"\n          sx={{\n            color: \"gray2.main\",\n            textAlign: \"left\",\n            fontWeight: \"700\",\n            mb: \"30px\",\n          }}\n        >\n          Details Invoice\n        </Typography>\n\n        <Grid\n          container\n          justifyContent=\"space-between\"\n          spacing={4}\n          mb=\"42px\"\n          sx={{ color: \"gray2.main\" }}\n        >\n          <Grid item xs=\"auto\">\n            <Box\n              sx={{\n                display: \"grid\",\n                gridTemplateColumns: \"repeat(2, auto)\",\n                gap: \"8px 24px\",\n                textAlign: \"left\",\n              }}\n            >\n              <Typography sx={textStyle}>No. Invoice :</Typography>\n              <Typography sx={textStyle}>{invoice.no_invoice}</Typography>\n\n              <Typography sx={textStyle}>Date :</Typography>\n              <Typography sx={textStyle}>\n                {invoice.date && getDateString(invoice.date)}\n              </Typography>\n            </Box>\n          </Grid>\n\n          <Grid item xs=\"auto\" alignSelf=\"flex-end\">\n            <Stack direction=\"row\" spacing={3}>\n              <Typography sx={boldTextStyle}>Total Price</Typography>\n              <Typography sx={boldTextStyle}>\n                {invoice.total_price &&\n                  `IDR ${invoice.total_price.toLocaleString(\"id\")}`}\n              </Typography>\n            </Stack>\n          </Grid>\n        </Grid>\n\n        <DataTable\n          headers={tableHeaders}\n          rows={courses.map((course, index) => [\n            index + 1,\n            course.name,\n            course.category_name,\n            getDateStringWithWeekday(course.schedule),\n            `IDR ${course.price.toLocaleString(\"id\")}`,\n          ])}\n          maxWidth=\"100%\"\n        />\n      </Box>\n    </BaseAdminView>\n  );\n};\n\nexport default DetailInvoicePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}